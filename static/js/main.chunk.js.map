{"version":3,"sources":["API.js","components/Category.js","components/Newest.js","components/Header.js","components/Footer.js","components/Video.js","components/Rss.js","components/Support.js","index.js"],"names":["API","fetch","API_URL","method","headers","then","res","json","query","serie_id","text","Category","useState","error","setError","isLoaded","setIsLoaded","items","setItems","useEffect","getSeries","result","message","Container","Header","size","Grid","columns","map","item","Column","Card","as","href","serie_url","Image","fluid","label","color","if_end","content","subtitle","ribbon","src","image","Content","textAlign","title","id","Search","props","getSearch","video_link","className","NewestPage","getNewest","results","console","log","Item","Group","image_cdn","verticalAlign","Meta","datetime","updated_at","Date","toLocaleDateString","serie_name","number","Newest","q","URLSearchParams","useLocation","search","get","Menu","position","name","Form","action","Input","transparent","icon","placeholder","type","Footer","Divider","List","horizontal","disabled","floated","target","Icon","Video","useParams","find","element","serie","getVideos","getRss","getSerieRss","Support","Segment","App","Fragment","children","ReactDOM","render","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import {API_URL} from \"./config.json\";\r\n\r\n export class API{\r\n\r\n     static getSeries(){\r\n         return fetch(API_URL+'/serie', {\r\n             method:'GET',\r\n             headers:{\r\n                 'Content-type':'application/json'\r\n             }\r\n         })\r\n             .then(res => res.json())\r\n     }\r\n\r\n     static getNewest(){\r\n         return fetch(API_URL+\"/newest\",{\r\n             method:'GET',\r\n             headers: {\r\n                 'Content-type': 'application/json'\r\n             }\r\n         })\r\n             .then(res => res.json())\r\n     }\r\n\r\n     static getSearch(query){\r\n         return fetch(API_URL+'/episodes?q='+query,{\r\n             method:'GET',\r\n             headers: {\r\n                 'Content-type': 'application/json'\r\n             }\r\n         })\r\n             .then(res => res.json())\r\n     }\r\n\r\n     static getVideos(serie_id){\r\n         return fetch(API_URL+'/serie/'+serie_id,{\r\n             method:'GET',\r\n             headers: {\r\n                 'Content-type': 'application/json'\r\n             }\r\n         })\r\n             .then(res => res.json())\r\n     }\r\n\r\n     static getRss(){\r\n         return fetch(API_URL+'/rss',{\r\n             method:'GET',\r\n             headers: {\r\n                 'Content-type': 'application/xml'\r\n             }\r\n         })\r\n             .then(res => res.text())\r\n     }\r\n\r\n     static getSerieRss(serie_id){\r\n         return fetch(API_URL+`/serie/${serie_id}/rss`,{\r\n             method:'GET',\r\n             headers: {\r\n                 'Content-type': 'application/xml'\r\n             }\r\n         })\r\n             .then(res => res.text())\r\n\r\n     }\r\n }\r\n\r\n\r\n\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Card, Grid, Image,Header,Container} from 'semantic-ui-react'\r\nimport {API} from '../API'\r\n\r\nfunction Category() {\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [items, setItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n            API.getSeries()\r\n            .then(\r\n                (result) => {\r\n                    setIsLoaded(true);\r\n                    setItems(result);\r\n                },\r\n                // Note: it's important to handle errors here\r\n                // instead of a catch() block so that we don't swallow\r\n                // exceptions from actual bugs in components.\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            )\r\n    }, [])\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <div></div>;\r\n    } else {\r\n\r\n        return (\r\n            <Container>\r\n                <Header size={\"large\"}>视频列表</Header>\r\n                <Grid columns={4}>\r\n                    {items.map(item => (\r\n                        <Grid.Column key={item.id}>\r\n                            <Card as=\"a\" href={\"/category/\"+item.serie_url}>\r\n                                <Image\r\n                                    fluid\r\n                                    label={{\r\n                                        color: item.if_end === 1 ? 'blue' : 'red',\r\n                                        content: item.subtitle,\r\n                                        ribbon: \"right\",\r\n                                    }}\r\n                                    src={item.image}\r\n                                />\r\n                                <Card.Content>\r\n                                    <Card.Header textAlign={\"center\"}>{item.title}</Card.Header>\r\n                                </Card.Content>\r\n                            </Card>\r\n                        </Grid.Column>\r\n                    ))}\r\n                </Grid>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Category\r\n","import React, {useEffect, useState} from 'react'\r\nimport {API} from '../API'\r\nimport {Card, Grid, Image, Header, Container, Item, Icon} from 'semantic-ui-react'\r\nimport {useLocation, useParams} from \"react-router-dom\";\r\nimport Category from \"./Category\";\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction Newest() {\r\n    let query = useQuery();\r\n    const q = query.get(\"q\");\r\n    if(q)\r\n    {\r\n        return <Search query={q}/>;\r\n    }\r\n    else return <NewestPage/>;\r\n}\r\n\r\nfunction Search(props) {\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [items, setItems] = useState([]);\r\n    const query = props.query;\r\n\r\n    useEffect(() => {\r\n        API.getSearch(query)\r\n            .then(\r\n                (result) => {\r\n                    setIsLoaded(true);\r\n                    setItems(result);\r\n                },\r\n                // Note: it's important to handle errors here\r\n                // instead of a catch() block so that we don't swallow\r\n                // exceptions from actual bugs in components.\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            )\r\n\r\n    }, [])\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <div></div>;\r\n    } else {\r\n        return (\r\n            <Container>\r\n                <Header size={\"large\"}>包含'{query}'的内容</Header>\r\n                <Grid columns={4}>\r\n                    {items.map(item => (\r\n                        <Grid.Column key={item.id}>\r\n                            <Card as=\"a\" href={item.video_link}>\r\n                                <Image\r\n                                    fluid\r\n                                    src={item.image}\r\n                                />\r\n                                <Card.Content>\r\n                                    <Card.Header as={\"h4\"} className=\"video_title\" textAlign={\"center\"}>{item.title}</Card.Header>\r\n                                </Card.Content>\r\n                            </Card>\r\n                        </Grid.Column>\r\n                    ))}\r\n                </Grid>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n\r\n    return null;\r\n}\r\n\r\n\r\nfunction NewestPage() {\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(true);\r\n    const [items, setItems] = useState([]);\r\n\r\n    const tranferDate = (datetime) =>{\r\n        let date = new Date(datetime);\r\n        //return date.getFullYear()+\"年\"+date.getUTCMonth()+\"月\"+date.getUTCDay()+\"日\";\r\n        return date.toLocaleDateString();\r\n    }\r\n\r\n    useEffect(() => {\r\n        API.getNewest()\r\n            .then(\r\n                (result) => {\r\n                    setIsLoaded(true);\r\n                    setItems(result.results);\r\n                    console.log(result);\r\n                },\r\n                // Note: it's important to handle errors here\r\n                // instead of a catch() block so that we don't swallow\r\n                // exceptions from actual bugs in components.\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            )\r\n    }, [])\r\n\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <div></div>;\r\n    } else {\r\n        //const {count,next,previous,results} = items;\r\n        console.log(items);\r\n\r\n\r\n        return (\r\n            <Container>\r\n                <Header size=\"huge\">最近更新</Header>\r\n                <Item.Group>\r\n                    {items.map(item => (\r\n                        <Item key={item.id} >\r\n                            <Item.Image as='a' href={item.video_link} size='medium' src={item.image_cdn?item.image_cdn:item.image}/>\r\n                            <Item.Content verticalAlign='middle'>\r\n                                <Item.Meta className='date'>{tranferDate(item.updated_at)}</Item.Meta>\r\n                                <Item.Meta>\r\n                                    <Header as=\"h4\" >\r\n                                        <a href={\"/category/\"+item.serie_url}>{item.serie_name}</a>\r\n                                        第 {item.number} 集\r\n                                    </Header>\r\n                                </Item.Meta>\r\n                                <Header size=\"large\" as='a' href={item.video_link}>{item.title}</Header>\r\n                            </Item.Content>\r\n                        </Item>\r\n\r\n                    ))}\r\n\r\n                </Item.Group>\r\n            </Container>\r\n\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Newest\r\n","import React from 'react'\r\nimport {Container, Grid, Image, Page, Menu, Item, Input, Comment, Form} from 'semantic-ui-react'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction Header(){\r\n\r\n    return (\r\n        <Container>\r\n        <Menu text size=\"massive\">\r\n            <Menu.Item><a href=\"/\"> <Image src={\"https://cdn.jsdelivr.net/gh/mrinflated/ccwebAssets@main/static/favicon.png\"}/></a></Menu.Item>\r\n            <Menu.Item as={\"h2\"}>\r\n                <a href=\"/\">Crash Course 中文字幕组</a>\r\n            </Menu.Item>\r\n            <Menu.Menu position=\"right\">\r\n                <Menu.Item as={\"a\"} href=\"/\" name=\"最近更新\" />\r\n                <Menu.Item as={\"a\"} href=\"/category\" name=\"视频列表\" />\r\n                <Menu.Item as={\"a\"} href=\"/support\" name=\"支持与鸣谢\" />\r\n                <Menu.Item>\r\n                    <Form method=\"GET\" action={\"/\"}>\r\n                        <Form.Input size={\"medium\"} transparent={true} icon=\"search\" placeholder=\"Search...\" name={\"q\"} type={\"text\"}/>\r\n                    </Form>\r\n\r\n                </Menu.Item>\r\n            </Menu.Menu>\r\n        </Menu>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\nimport {Container, Grid, Image, Page, Menu, Item, Input, Comment, Divider, List, Icon} from 'semantic-ui-react'\r\n\r\nfunction Footer(){\r\n\r\n    return (\r\n        <Container>\r\n            <Divider />\r\n            <List size={\"large\"} verticalAlign={\"middle\"} horizontal={true} >\r\n                <List.Item disabled={true}>Don't forget to be Awesome!</List.Item>\r\n                <List.Item disabled={true}>©Crash Course字幕组</List.Item>\r\n\r\n            </List>\r\n            <List size={\"large\"} verticalAlign={\"middle\"} horizontal={true} floated={\"right\"}>\r\n                <List.Item href={\"https://weibo.com/u/5237129097/\" } target=\"_blank\" position=\"right\"><List.Icon name=\"weibo\" size={\"large\"} /></List.Item>\r\n                <List.Item href={\"http://qm.qq.com/cgi-bin/qm/qr?k=tsV0IB3mxatvvHzuPQmet4yZTL6vn3Sx\"} target=\"_blank\" position=\"right\"><List.Icon name=\"qq\" size={\"large\"} /></List.Item>\r\n                <List.Item href={\"/rss\" } target=\"_blank\" position=\"right\"><List.Icon name=\"rss\" size={\"large\"}  /></List.Item>\r\n            </List>\r\n        </Container>\r\n\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Card, Grid, Image, Header, Container, List, Icon} from 'semantic-ui-react';\r\nimport {API} from '../API'\r\nimport {useParams} from 'react-router-dom'\r\nfunction Video() {\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [items, setItems] = useState([]);\r\n    let {serie_url} = useParams();\r\n\r\n    useEffect(() => {\r\n        API.getSeries()\r\n            .then(\r\n                (result)=> {\r\n                    return  result.find(element => element.serie_url==serie_url);\r\n                },\r\n                (error) => {\r\n            setIsLoaded(true);\r\n            setError(error);\r\n        }\r\n        )\r\n            .then((serie) =>\r\n        API.getVideos(serie.id)\r\n            .then(\r\n                (result) => {\r\n                    setIsLoaded(true);\r\n                    setItems(result);\r\n                },\r\n                // Note: it's important to handle errors here\r\n                // instead of a catch() block so that we don't swallow\r\n                // exceptions from actual bugs in components.\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            )\r\n            )\r\n\r\n    }, [])\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <div></div>;\r\n    } else {\r\n\r\n        return (\r\n            <Container>\r\n                <Header size={\"large\"}>{items[0]?items[0].serie_name:null} <a href={\"/category/\"+serie_url+\"/rss\"}><Icon name=\"rss\" size={\"small\"} /></a></Header>\r\n\r\n                <Grid columns={4}>\r\n                    {items.map(item => (\r\n                        <Grid.Column key={item.id}>\r\n                            <Card as=\"a\" href={item.video_link}>\r\n                                <Image\r\n                                    fluid\r\n                                    src={item.image}\r\n                                />\r\n                                <Card.Content>\r\n                                    <Card.Header as={\"h4\"} className=\"video_title\" textAlign={\"center\"}>第 {item.number} 集：{item.title}</Card.Header>\r\n                                </Card.Content>\r\n                            </Card>\r\n                        </Grid.Column>\r\n                    ))}\r\n                </Grid>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Video\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Card, Grid, Image,Header,Container} from 'semantic-ui-react';\r\nimport {API} from '../API'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nfunction SerieRss() {\r\n\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [items, setItems] = useState(\"\");\r\n    const {serie_url} = useParams();\r\n\r\n    useEffect(() => {\r\n        API.getSeries()\r\n            .then(\r\n                (result)=> {\r\n                    console.log(result.find(element => element.serie_url==serie_url));\r\n                    return result.find(element => element.serie_url==serie_url);\r\n                },\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            )\r\n            .then((serie)=>\r\n        API.getSerieRss(serie.id)\r\n            .then(\r\n                (result) => {\r\n                    setIsLoaded(true);\r\n                    setItems(result);\r\n                },\r\n                // Note: it's important to handle errors here\r\n                // instead of a catch() block so that we don't swallow\r\n                // exceptions from actual bugs in components.\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            ))\r\n    }, [])\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <div></div>;\r\n    } else {\r\n        return items;\r\n    }\r\n}\r\n\r\nfunction Rss() {\r\n\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [items, setItems] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        API.getRss()\r\n            .then(\r\n                (result) => {\r\n                    setIsLoaded(true);\r\n                    setItems(result);\r\n                },\r\n                // Note: it's important to handle errors here\r\n                // instead of a catch() block so that we don't swallow\r\n                // exceptions from actual bugs in components.\r\n                (error) => {\r\n                    setIsLoaded(true);\r\n                    setError(error);\r\n                }\r\n            )\r\n    }, [])\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <div></div>;\r\n    } else {\r\n        return items;\r\n    }\r\n}\r\n\r\n\r\nexport default {Rss,SerieRss};\r\n","import React from 'react'\r\nimport {Card, Container, Header, Image, Segment} from \"semantic-ui-react\";\r\n\r\n\r\nfunction Support(){\r\n    return(\r\n        <Container>\r\n            <Segment>\r\n                网站服务维护：<a href=\"https://weibo.com/2207493917/\" target=\"_blank\">@不想膨胀的小R同学 </a>\r\n            </Segment>\r\n\r\n            <Segment>\r\n                    Crash Course 官方网址：\r\n                    <a href=\"https://thecrashcourse.com/\" target=\"_blank\"> https://thecrashcourse.com </a>\r\n                    <br /> Crash Course Petron捐助页面：\r\n                        <a href=\"http://www.patreon.com/crashcourse\" target=\"_blank\"> http://www.patreon.com/crashcourse </a>\r\n                    <br /> Crash Course 官方周边：\r\n                            <a href=\"https://store.dftba.com/collections/crashcourse\" target=\"_blank\">\r\n                                https://store.dftba.com/collections/crashcourse </a>\r\n            </Segment>\r\n            <Segment>\r\n                Crash Course 字幕组1群：305631757\r\n                <br/>\r\n                Crash Course 字幕组2群：713907644\r\n            </Segment>\r\n    </Container>\r\n    )\r\n}\r\n\r\nexport default Support;\r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './App.css';\nimport Newest from \"./components/Newest\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    useLocation,\n    Link\n} from \"react-router-dom\";\nimport {API} from './API'\nimport Category from \"./components/Category\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Video from \"./components/Video\";\nimport Rss from \"./components/Rss\";\nimport Support from \"./components/Support\";\n\n\n// TODO: Switch to https://github.com/palmerhq/the-platform#stylesheet when it will be stable\n/*\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href = \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n*/\nfunction App(props) {\n    return (\n        <React.Fragment>\n            <Header/>\n            {props.children}\n            <Footer/>\n        </React.Fragment>\n    )\n}\n\nReactDOM.render((\n        <Router>\n            <Switch>\n\n                <Route exact path=\"/\">\n                    <App children={<Newest/>}/>\n                </Route>\n\n                <Route path=\"/category/:serie_url/rss\">\n                    <Rss.SerieRss/>\n                </Route>\n                <Route path=\"/category/:serie_url\">\n                    <App children={<Video/>}/>\n                </Route>\n\n\n                <Route path=\"/category\">\n                    <App children={<Category/>}/>\n                </Route>\n\n                <Route path=\"/support\">\n                    <App children={<Support/>}/>\n                </Route>\n\n                <Route path=\"/rss\">\n                    <Rss.Rss />\n                </Route>\n            </Switch>\n\n\n        </Router>\n\n), document.getElementById('root'))\n\n"],"sourceRoot":""}